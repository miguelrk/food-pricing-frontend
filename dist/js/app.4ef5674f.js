(function(e){function t(t){for(var o,n,c=t[0],s=t[1],l=t[2],u=0,d=[];u<c.length;u++)n=c[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&d.push(i[n][0]),i[n]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);p&&p(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],o=!0,n=1;n<r.length;n++){var c=r[n];0!==i[c]&&(o=!1)}o&&(a.splice(t--,1),e=s(s.s=r[0]))}return e}var o={},n={app:0},i={app:0},a=[];function c(e){return s.p+"js/"+({menu:"menu",prediction:"prediction"}[e]||e)+"."+{"chunk-2efd02e6":"f4187f79",menu:"d950b4b4",prediction:"89498597","chunk-8b5d78a4":"4a238749"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(e){var t=[],r={"chunk-2efd02e6":1,menu:1,"chunk-8b5d78a4":1};n[e]?t.push(n[e]):0!==n[e]&&r[e]&&t.push(n[e]=new Promise((function(t,r){for(var o="css/"+({menu:"menu",prediction:"prediction"}[e]||e)+"."+{"chunk-2efd02e6":"dcced36a",menu:"32580f10",prediction:"31d6cfe0","chunk-8b5d78a4":"c9444770"}[e]+".css",i=s.p+o,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var l=a[c],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===i))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){l=d[c],u=l.getAttribute("data-href");if(u===o||u===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var o=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete n[e],p.parentNode.removeChild(p),r(a)},p.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){n[e]=0})));var o=i[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((function(t,r){o=i[e]=[t,r]}));t.push(o[2]=a);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=c(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(p);var r=i[e];if(0!==r){if(r){var o=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+n+")",d.name="ChunkLoadError",d.type=o,d.request=n,r[1](d)}i[e]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(r,o,function(t){return e[t]}.bind(null,o));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var p=u;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var o=r("8a23"),n=r.n(o);n.a},"359d":function(e,t,r){},4230:function(e,t,r){},4360:function(e,t,r){"use strict";r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b");var o=r("2fa7"),n=r("2b0e"),i=r("2f62");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(r,!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}n["a"].use(i["a"]),t["a"]=new i["a"].Store({state:{notifications:[],deviceHost:"http://192.168.43.12:5000",cameraStreamHost:"http://192.168.43.12:5001/index.html",proxyHost:"https://thingproxy.freeboard.io/",itemsInCurrentOrder:[],menuItems:[{id:"1",class:"Bread",price:3.89,imageURL:"https://previews.123rf.com/images/iofoto/iofoto0710/iofoto071002510/1906551-one-slice-of-toast-on-plate-.jpg"},{id:"2",class:"Dairy product",price:3.89,imageURL:"https://media.gettyimages.com/photos/directly-above-view-of-berries-in-yoghurt-plate-on-table-picture-id593445071"},{id:"3",class:"Dessert",price:3.89,imageURL:"https://assets3.thrillist.com/v1/image/1656852/size/tmg-article_default_mobile.jpg"},{id:"4",class:"Egg",price:3.89,imageURL:"https://media.istockphoto.com/vectors/fried-egg-on-a-plate-vector-illustration-vector-id496774322"},{id:"5",class:"Fried food",price:3.89,imageURL:"https://s3.envato.com/files/250840577/39618_.jpg"},{id:"6",class:"Meat",price:3.89,imageURL:"http://images.utensilholder.org/l-m/sizzling-platter-steak-plate-set.jpg"},{id:"7",class:"Noodles/Pasta",price:3.89,imageURL:"https://previews.123rf.com/images/nataliaspb/nataliaspb1301/nataliaspb130100045/17317603-spaghetti-bolognese-on-the-white-plate-on-white-background.jpg"},{id:"8",class:"Rice",price:3.89,imageURL:"https://previews.123rf.com/images/sommai/sommai1501/sommai150100064/35054583-cooked-rice-in-a-white-plate-on-white-background.jpg"},{id:"9",class:"Seafood",price:3.89,imageURL:"https://media.istockphoto.com/photos/plate-of-clams-picture-id656115542"},{id:"10",class:"Soup",price:3.89,imageURL:"https://www.bbcgoodfood.com/sites/default/files/recipe-collections/collection-image/2013/05/recipe-image-legacy-id-1074500_11.jpg"},{id:"11",class:"Vegetable/Fruit",price:3.89,imageURL:"https://previews.123rf.com/images/margouillat/margouillat1308/margouillat130800444/21698479-plate-of-vegetables.jpg"}]},mutations:{SET:function(e,t){e[t.prop]=t.value},TOGGLE:function(e,t){e[t.prop]=!e[t.prop]},ADD:function(e,t){e[t.prop].push(t.value)},FIRE_NOTIFICATION:function(e,t){e.notifications.push({text:t.text,type:t.type,options:c({closeable:!0},t.options)})},CLEAR_NOTIFICATIONS:function(e){e.notifications=[]}},actions:{},modules:{}})},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var o,n,i=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[r("div",{staticClass:"d-flex align-center"},[r("v-avatar",[r("v-icon",{attrs:{large:"",dark:""}},[e._v("mdi-food")])],1),e.$vuetify.breakpoint.smAndUp?r("v-toolbar-title",{staticClass:"ml-3"},[e._v("Food App")]):e._e()],1),r("v-spacer"),r("v-tabs",{attrs:{"background-color":"transparent",right:""}},[r("v-tab",{class:{"without-padding":e.$isMobile()||e.$vuetify.breakpoint.smAndDown},on:{click:function(t){return e.$router.push("/")}}},[!e.$isMobile()||e.$vuetify.breakpoint.mdAndUp?[e._v("Home")]:[r("v-icon",[e._v("mdi-home")])]],2),r("v-tab",{on:{click:function(t){return e.$router.push("/orders")}}},[!e.$isMobile()||e.$vuetify.breakpoint.mdAndUp?[e._v("Orders")]:[r("v-icon",[e._v("mdi-receipt")])]],2),r("v-tab",{on:{click:function(t){return e.$router.push("/menu")}}},[!e.$isMobile()||e.$vuetify.breakpoint.mdAndUp?[e._v("Menu")]:[r("v-icon",[e._v("mdi-menu")])]],2)],1),r("v-btn",{attrs:{icon:""},on:{click:function(t){return e.toggleFullscreen()}}},[r("v-icon",[e._v(e._s(e.fullscreen?"mdi-fullscreen-exit":"mdi-fullscreen"))])],1),r("v-toolbar-items",[r("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[r("v-btn",e._g({attrs:{icon:""}},o),[r("v-icon",[e._v("mdi-settings")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("form",[r("v-card-title",{attrs:{"primary-title":""}},[e._v("Settings")]),r("v-card-text",[r("v-text-field",{attrs:{label:"Device Host",required:"",outlined:"",dense:""},model:{value:e.deviceHostProvisional,callback:function(t){e.deviceHostProvisional=t},expression:"deviceHostProvisional"}}),r("v-text-field",{attrs:{label:"Camera Stream Host",required:"",outlined:"",dense:""},model:{value:e.cameraStreamHostProvisional,callback:function(t){e.cameraStreamHostProvisional=t},expression:"cameraStreamHostProvisional"}})],1),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v("close")]),r("v-btn",{staticClass:"mr-4",attrs:{text:"",color:"primary"},on:{click:function(t){return e.submitChanges()}}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-content-save-edit")]),e._v("save ")],1)],1)],1)])],1)],1)],1),r("v-content",[r("router-view",{class:{"with-padding":!e.$isMobile()||e.$vuetify.breakpoint.lgAndUp,"without-padding":e.$isMobile()||e.$vuetify.breakpoint.mdAndDown},attrs:{width:"100%"}})],1),e._l(e.notifications,(function(e,t){return r("app-notification",{key:"app-notification-"+t,attrs:{notification:e}})})),r("app-notification-update")],2)},c=[],s=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("2fa7")),l=r("2f62"),u=r("f606"),d={data:function(){return{fullscreen:!1}},methods:{toggleFullscreen:function(){var e=document.getElementById("dashboard");this.fullscreen?(this.fullscreen=!1,document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():console.log("Fullscreen API is not supported.")):(this.fullscreen=!0,e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen())},setFullscreenEscapeListeners:function(){document.addEventListener("fullscreenchange",this.fullscreenEscapedHandler,!1),document.addEventListener("mozfullscreenchange",this.fullscreenEscapedHandler,!1),document.addEventListener("webkitfullscreenchange",this.fullscreenEscapedHandler,!1)},removeFullscreenEscapeListeners:function(){document.removeEventListener("fullscreenchange",this.fullscreenEscapedHandler),document.removeEventListener("mozfullscreenchange",this.fullscreenEscapedHandler),document.removeEventListener("webkitfullscreenchange",this.fullscreenEscapedHandler)},fullscreenEscapedHandler:function(){var e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;this.fullscreen=!!e,this.$forceUpdate(),console.log("".concat(this.fullscreen?"Entered fullscreen (Press ESC to exit)":"Exited fullscreen"))}}},p=d,f=r("2877"),m=Object(f["a"])(p,o,n,!1,null,null,null),v=m.exports,h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-snackbar",{staticClass:"app-notification",style:e.style,attrs:{color:e.color,timeout:e.timeoutMs,"multi-line":e.multiLine,vertical:e.vertical,bottom:"",right:""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[e._v(" "+e._s(e.text)+" "),e.button?r("v-btn",{attrs:{text:"",color:e.button.color},on:{"!click":function(t){return e.button.clickHandler()}}},[e._v(e._s(e.button.text))]):e._e()],1)},b=[],g=r("4360");function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(r,!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O={name:"AppNotification",props:{notification:{type:Object,required:!0}},data:function(){return{model:!1,text:"",type:"",button:{},closeable:!1,timeoutMs:6e3,multiLine:!1,vertical:!1,style:""}},computed:w({},Object(l["b"])({darkMode:function(e){return e.darkMode}}),{notifications:{get:function(){return g["a"].state.notifications},set:function(e){this.$store.commit("SET",{prop:"notifications",value:e})}}}),watch:{notification:{immediate:!0,deep:!0,handler:function(e){this.fireNotification(e.text,e.type,e.options)}}},methods:{fireNotification:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.notifications.length-1;this.model=!0,this.text=e;var i=4;this.style="margin-bottom:".concat(54+54*(n%i-1),"px"),this.setNotificationTheme(r),this.timeoutMs=0===o.timeoutMs?0:6e3,this.multiLine=!!o.multiLine&&o.multiLine,this.vertical=!!o.vertical&&o.vertical,o.button&&(this.button.text=o.button.text?o.button.text:"",this.button.clickHandler=o.button.clickHandler?o.button.clickHandler:this.closeNotification),o.closeable&&(this.button.text="Dismiss",this.button.clickHandler=this.closeNotification),0!==this.timeoutMs&&setTimeout((function(){t.$store.commit("SET",{prop:"notifications",value:[]})}),this.timeoutMs)},setNotificationTheme:function(e){switch(e){case"error":this.color=(this.darkMode,"error"),this.button.color="white";break;case"info":this.color=(this.darkMode,"info"),this.button.color="white";break;case"success":this.color=(this.darkMode,"success"),this.button.color="white";break;case"warning":this.color=(this.darkMode,"warning"),this.button.color="white";break;default:this.color="",this.button.color="secondary";break}},closeNotification:function(){this.model=!1}}},k=O,_=r("6544"),x=r.n(_),I=r("8336"),j=r("2db4"),C=Object(f["a"])(k,h,b,!1,null,null,null),E=C.exports;x()(C,{VBtn:I["a"],VSnackbar:j["a"]});var S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-snackbar",{staticClass:"snack",attrs:{timeout:e.timeout,bottom:"",right:""},model:{value:e.showing,callback:function(t){e.showing=t},expression:"showing"}},[e._v(" "+e._s(e.text)+" "),r("v-spacer"),r("v-btn",{attrs:{dark:"",text:"",color:"secondary"},nativeOn:{click:function(t){return e.refreshApp()}}},[e._v(e._s(e.buttonText))])],1)},P=[],T={name:"AppNotificationUpdate",data:function(){return{refreshing:!1,registration:null,buttonText:"",text:"",showing:!1,timeout:0}},mounted:function(){var e=this;document.addEventListener("swUpdated",this.showRefreshUI,{once:!0}),navigator.serviceWorker.addEventListener("controllerchange",(function(){e.refreshing||(e.refreshing=!0,window.location.reload())}))},methods:{showRefreshUI:function(e){this.registration=e.detail,this.buttonText="Update",this.text="New version available!",this.showing=!0},refreshApp:function(){this.showing=!1,this.registration&&this.registration.waiting&&this.registration.waiting.postMessage("skipWaiting")}}},F=T,D=(r("b442"),r("2fa4")),A=Object(f["a"])(F,S,P,!1,null,"0a18d721",null),H=A.exports;function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(r,!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}x()(A,{VBtn:I["a"],VSnackbar:j["a"],VSpacer:D["a"]});var L={name:"App",components:{AppNotification:E,AppNotificationUpdate:H},mixins:[u["a"],v],data:function(){return{dialog:!1,deviceHostProvisional:"",cameraStreamHostProvisional:"",proxyHostProvisional:""}},computed:R({},Object(l["b"])({notifications:function(e){return e.notifications},proxyHost:function(e){return e.proxyHost},cameraStreamHost:function(e){return e.cameraStreamHost},deviceHost:function(e){return e.deviceHost},itemsInCurrentOrder:function(e){return e.itemsInCurrentOrder}})),mounted:function(){this.deviceHostProvisional=this.deviceHost,this.cameraStreamHostProvisional=this.cameraStreamHost,this.proxyHostProvisional=this.proxyHost},watch:{$online:{immediate:!0,handler:function(e){if(e)this.$store.commit("CLEAR_NOTIFICATIONS");else{var t={text:"You are currently offline!",type:"",options:{timeoutMs:0}};this.$store.commit("FIRE_NOTIFICATION",t)}}}},methods:{submitChanges:function(){this.dialog=!1,this.$store.commit("SET",{prop:"deviceHost",value:this.deviceHostProvisional}),this.$store.commit("SET",{prop:"cameraStreamHost",value:this.cameraStreamHostProvisional}),this.$store.commit("SET",{prop:"proxyHost",value:this.proxyHostProvisional}),this.$store.commit("FIRE_NOTIFICATION",{text:"Updated settings successfully",type:"success"})}}},V=L,U=(r("034f"),r("7496")),$=r("40dc"),M=r("8212"),B=r("b0af"),z=r("99d9"),q=r("a75b"),W=r("169a"),G=r("ce7e"),K=r("132d"),Z=r("71a3"),J=r("fe57"),Q=r("8654"),Y=r("2a7f"),X=Object(f["a"])(V,a,c,!1,null,null,null),ee=X.exports;x()(X,{VApp:U["a"],VAppBar:$["a"],VAvatar:M["a"],VBtn:I["a"],VCard:B["a"],VCardActions:z["a"],VCardText:z["c"],VCardTitle:z["d"],VContent:q["a"],VDialog:W["a"],VDivider:G["a"],VIcon:K["a"],VSpacer:D["a"],VTab:Z["a"],VTabs:J["a"],VTextField:Q["a"],VToolbarItems:Y["a"],VToolbarTitle:Y["b"]});var te=r("9483");Object(te["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});r("d3b7");var re=r("8c4f"),oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-view"},[r("h1",{staticClass:"hidden-md-and-down"},[e._v("Home")]),r("v-stepper",{model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[r("v-stepper-header",[r("v-stepper-step",{attrs:{complete:e.model>1,step:"1"}},[e._v("Scan your food")]),r("v-divider"),r("v-stepper-step",{attrs:{complete:e.model>2,step:"2"}},[e._v("Review your order")]),r("v-divider"),r("v-stepper-step",{attrs:{complete:e.model>3,step:"3",editable:Boolean(e.itemsInCurrentOrder.length)}},[e._v("Payment")])],1),r("v-stepper-items",[r("v-stepper-content",{attrs:{step:"1"}},[r("v-card",{staticClass:"mb-12",attrs:{flat:""}},["init"===e.state?[r("v-card-title",[e._v(" Scan your food ")]),r("v-card-subtitle",[e._v("Place food item below camera and wait to be scanned ")]),r("v-card-text",[r("v-row",{attrs:{justify:"center",align:"center"}},[r("iframe",{attrs:{frameborder:"0",src:e.cameraStreamHost}})])],1)]:"inference"===e.state?[r("v-card-title",[e._v(" Detecting food item...")]),r("v-card-subtitle",[e._v("Please do not move food item ")]),r("v-card-text",[r("v-row",{staticClass:"fill-height",attrs:{column:"",justify:"center",align:"center"}},[r("v-progress-circular",{attrs:{size:50,color:"secondary",indeterminate:""}})],1)],1)]:"feedback"===e.state?[e.correctionDialog?e.correctionDialog?[r("v-card-title",[e._v(" Select your food ")]),r("v-card-subtitle",[e._v("Select the correct food from below ")]),r("v-card-text",[r("v-row",{attrs:{align:"center",dense:""}},e._l(e.menuItems,(function(t,o){return r("v-col",{key:"menu-item-"+o,attrs:{cols:e.$vuetify.breakpoint.smAndDown?6:e.$vuetify.breakpoint.mdAndDown?4:e.$vuetify.breakpoint.lgAndDown?3:2}},[r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[r("span",{staticClass:"font-weight-bold"},[e._v(" "+e._s(t.class)+" ")])])],1),r("v-list-item-action-text",[e._v(e._s(t.price)+" EUR")])],1),r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(n){var i=n.hover;return[r("div",{staticClass:"pa-2"},[r("v-img",{key:"widget-img-"+o,attrs:{src:t.imageURL,alt:"Asterisc widget "+t.name,height:"194"}},[r("v-fade-transition",[i?r("v-overlay",{attrs:{absolute:"",color:"primary",opacity:"0.40"}},[r("v-btn",{key:"widget-dialog-btn-"+t.id,attrs:{color:"primary",depressed:""},on:{click:function(r){return e.updateClass(t)}}},[e._v("Select")])],1):e._e()],1)],1)],1)]}}],null,!0)})],1)],1)})),1)],1)]:e._e():[r("v-card-title",[e._v(" Is the food item correct? ")]),r("v-card-subtitle",[e._v("Your feedback helps us improve our algorithms")]),r("v-card-text",[r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-img",{attrs:{src:e.imageURLs[e.imageURLs.length-1],contain:"",height:"400px"}})],1)],1)]]:e._e(),"init"===e.state?r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.getPrediction()}}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-camera")]),e._v("Scan item ")],1)],1):r("v-card-actions",[r("v-btn",{attrs:{text:""},on:{click:function(t){return e.reset()}}},[e._v("Cancel")]),r("v-spacer"),r("v-btn",{attrs:{text:"",outlined:"",color:"primary",disabled:"inference"===e.state},on:{click:function(t){return e.getPrediction()}}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-camera")]),e._v("Re-scan ")],1),r("v-btn",{attrs:{color:"error",disabled:"inference"===e.state},on:{click:function(t){e.correctionDialog=!0}}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-close")]),e._v("Wrong ")],1),r("v-btn",{attrs:{color:"success",disabled:"inference"===e.state},on:{click:function(t){return e.addPredictionToOrder()}}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-check")]),e._v("Right ")],1)],1)],2)],1),r("v-stepper-content",{attrs:{step:"2"}},[r("v-card",{staticClass:"mb-12",attrs:{flat:""}},[r("v-card-title",[e._v(" Review your order ")]),r("v-card-subtitle",[e._v("Keep adding items to your order or proceed to check-out")]),r("v-card-text",[r("items-list")],1),r("v-card-actions",[r("v-btn",{attrs:{text:""},on:{click:function(t){return e.reset()}}},[e._v("Cancel")]),r("v-spacer"),r("v-btn",{attrs:{color:"primary",outlined:""},on:{click:function(t){return e.backToStart()}}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-plus")]),e._v("Add item ")],1),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.model=3}}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-credit-card-outline")]),e._v("Check-out ")],1)],1)],1)],1),r("v-stepper-content",{attrs:{step:"3"}},[r("v-card",{staticClass:"mb-12",attrs:{flat:""}},[r("v-card-title",{attrs:{large:""}},[e._v(" Confirm payment ")]),r("v-card-subtitle",[e._v("Place card above scanner")]),r("v-card-text",[r("v-row",[r("v-col",{attrs:{xs8:""}},[r("div",{staticClass:"text--primary"},[e._v(" Accepted payment methods include: ")]),r("br"),r("br"),r("v-img",{attrs:{width:"300",contain:"",src:"https://upload.wikimedia.org/wikipedia/commons/5/57/Paypa.png"}}),r("br"),r("div",{staticClass:"text--primary"},[e._v(" Enjoy your meal! ")])],1),r("v-col",{attrs:{xs4:""}},[e._l(e.itemsInCurrentOrder,(function(t,o){return r("v-row",{key:"p-"+o,attrs:{"justify-space-between":""}},[r("v-col",[e._v(" "+e._s(t.class)+" ")]),r("v-col",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.price))])],1)})),r("br"),r("p",{staticClass:"subheader text--primary strong",staticStyle:{"text-align":"right"}},[e._v(" TOTAL ")]),r("p",{staticClass:"display-1 text--primary",staticStyle:{"text-align":"right"}},[e._v(" 8.79 EUR ")])],2)],1)],1),r("v-card-actions",[r("v-btn",{attrs:{text:""},on:{click:function(t){return e.reset()}}},[e._v("Cancel")]),r("v-spacer"),r("v-btn",{attrs:{text:""},on:{click:function(t){return e.goBackToFeedback()}}},[e._v("Back")]),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.model=1}}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-credit-card-outline")]),e._v("Purchase ")],1)],1)],1)],1)],1)],1)],1)},ne=[],ie=(r("0d03"),r("25f0"),r("dc59"));function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(r,!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var se={name:"home",components:{ItemsList:function(){return r.e("chunk-2efd02e6").then(r.bind(null,"ddd2"))}},mixins:[u["a"]],data:function(){return{model:1,state:"init",imageURLs:[],correctionDialog:!1}},computed:ce({},Object(l["b"])({notifications:function(e){return e.notifications},proxyHost:function(e){return e.notifications},deviceHost:function(e){return e.deviceHost},cameraStreamHost:function(e){return e.cameraStreamHost},menuItems:function(e){return e.menuItems},itemsInCurrentOrder:function(e){return e.itemsInCurrentOrder}})),mounted:function(){var e=ie["b"].ref("/predictions");this.getImageUrls(e)},methods:{getPrediction:function(){var e=this;this.state="inference",this.correctionDialog=!1,setTimeout((function(){e.state="feedback"}),1e3),this.prediction={id:this.getUID(),class:"Bread",price:3.5}},updateClass:function(e){this.prediction.class=e.class,this.prediction.price=e.price,this.prediction.imageURL=e.imageURL,this.addPredictionToOrder()},addPredictionToOrder:function(){this.$store.commit("ADD",{prop:"itemsInCurrentOrder",value:this.prediction}),console.log("Added item to order:",this.prediction),this.model=2,this.state="init"},getImageUrls:function(e){var t=this;e.listAll().then((function(e){e.items.forEach((function(e){e.getDownloadURL().then((function(e){t.imageURLs.push(e)})).catch((function(e){switch(e.code){case"storage/object-not-found":console.error("File doesn't exist",e);break;case"storage/unauthorized":console.error("User doesn't have permission to access the object",e);break;case"storage/reseted":console.error("User reseted the upload",e);break;case"storage/unknown":console.error("Unknown error occurred, inspect the server response",e);break}}))}))})).catch((function(e){console.error(e)})).finally((function(){return console.log(t.imageURLs)}))},goBackToFeedback:function(){this.model=2,this.state="feedback"},purchase:function(){this.$store.commit("FIRE_NOTIFICATION",{text:"Payment successful",type:"success"}),this.reset()},reset:function(){this.backToStart(),this.$store.commit("SET",{prop:"itemsInCurrentOrder",value:[]})},backToStart:function(){this.model=1,this.state="init"},getUID:function(){return"_"+Math.random().toString(36).substr(2,9)}}},le=se,ue=(r("cccb"),r("62ad")),de=r("0789"),pe=r("ce87"),fe=r("adda"),me=r("da13"),ve=r("5d23"),he=r("a797"),be=r("490a"),ge=r("0fd9"),ye=r("7e85"),we=r("e516"),Oe=r("9c54"),ke=r("56a4"),_e=Object(f["a"])(le,oe,ne,!1,null,null,null),xe=_e.exports;x()(_e,{VBtn:I["a"],VCard:B["a"],VCardActions:z["a"],VCardSubtitle:z["b"],VCardText:z["c"],VCardTitle:z["d"],VCol:ue["a"],VDivider:G["a"],VFadeTransition:de["c"],VHover:pe["a"],VIcon:K["a"],VImg:fe["a"],VListItem:me["a"],VListItemActionText:ve["a"],VListItemContent:ve["b"],VListItemTitle:ve["d"],VOverlay:he["a"],VProgressCircular:be["a"],VRow:ge["a"],VSpacer:D["a"],VStepper:ye["a"],VStepperContent:we["a"],VStepperHeader:Oe["a"],VStepperItems:Oe["b"],VStepperStep:ke["a"]}),i["a"].use(re["a"]);var Ie=[{path:"/",name:"Home",component:xe},{path:"/orders",name:"Orders",component:function(){return r.e("prediction").then(r.bind(null,"159d"))}},{path:"/menu",name:"Menu",component:function(){return r.e("menu").then(r.bind(null,"9a0b"))}}],je=new re["a"]({mode:"history",base:"/",routes:Ie}),Ce=je,Ee=r("0ff2"),Se=r("f309");i["a"].use(Se["a"]);var Pe={primary:"#0080FF",secondary:"#18ECC0",accent:"#5c4ae4",background:"#F5F5F5",error:"#F04722",info:"#51A0FB",infoDark:"#1867C0",success:"#44C47D",warning:"#FFC107"},Te=new Se["a"]({theme:{themes:{light:Pe,dark:Pe}},options:{customProperties:!0}}),Fe=r("ba48"),De=r.n(Fe),Ae=r("9dc2");i["a"].use(Ee["a"]),i["a"].use(De.a),i["a"].use(Ae["a"]),i["a"].config.productionTip=!1,new i["a"]({router:Ce,store:g["a"],vuetify:Te,render:function(e){return e(ee)}}).$mount("#app")},"8a23":function(e,t,r){},b442:function(e,t,r){"use strict";var o=r("359d"),n=r.n(o);n.a},cccb:function(e,t,r){"use strict";var o=r("4230"),n=r.n(o);n.a},dc59:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c}));var o=r("c23d"),n=(r("e89a"),r("2e66"),o["firebase"].initializeApp({apiKey:"AIzaSyCCL8LNWfr2Ri2wSOV8rjlbxZ4S1SWRWco",authDomain:"tum-food-app.firebaseapp.com",databaseURL:"https://tum-food-app.firebaseio.com",projectId:"tum-food-app",storageBucket:"tum-food-app.appspot.com",messagingSenderId:"811530983997",appId:"1:811530983997:web:12889ab162f54f3f1be854",measurementId:"G-ZTTXZQNQE8"})),i=o["firebase"].firestore,a=(i.TimeStamp,i.GeoPoint,n.firestore()),c=o["firebase"].storage();a.enablePersistence({synchronizeTabs:!0}).catch((function(e){"failed-precondition"==e.code||e.code}))},f606:function(e,t,r){"use strict";r("a4d3"),r("4de4"),r("4160"),r("0d03"),r("e439"),r("dbb4"),r("b64b"),r("159b");var o=r("2fa7"),n=r("4360"),i=r("dc59");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(r,!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s,l,u={data:function(){return{predictions:[]}},firestore:{predictions:i["a"].collection("predictions")},methods:{updateDoc:function(e,t,r){var o=new Date;e.doc(t).update(c({},r,{updatedDate:o})).then((function(){window.console.log("Updated item successfully"),n["a"].commit("FIRE_NOTIFICATION",{text:"Updated item successfully",type:"success"})})).catch((function(e){window.console.error("Error updating document: ".concat(e)),n["a"].commit("FIRE_NOTIFICATION",{text:e,type:"error"})}))},createDoc:function(e,t){var r=new Date;e.add(t).then((function(e){e.update({id:e.id,createdDate:r,updatedDate:r}),window.console.log("Created item successfully"),n["a"].commit("FIRE_NOTIFICATION",{text:"Created item successfully",type:"success"})})).catch((function(e){window.console.error("Error adding item: ".concat(e)),n["a"].commit("FIRE_NOTIFICATION",{text:e,type:"error"})}))},cloneDoc:function(e,t){var r=new Date;e.add(t).then((function(e){e.update({id:e.id,createdDate:r,updatedDate:r}),window.console.log("Created item successfully"),n["a"].commit("FIRE_NOTIFICATION",{text:"Created item successfully",type:"success"})})).catch((function(e){window.console.error("Error adding item: ",e),n["a"].commit("FIRE_NOTIFICATION",{text:e,type:"error"})}))},deleteDocById:function(e,t){e.doc(t).delete().then((function(){window.console.log("Deleted item successfully"),n["a"].commit("FIRE_NOTIFICATION",{text:"Deleted item successfully",type:"success"})})).catch((function(e){window.console.error("Error deleting item: ".concat(e)),n["a"].commit("FIRE_NOTIFICATION",{text:e,type:"error"})}))},updateDocField:function(e,t,r){var i,a=new Date;e.update((i={},Object(o["a"])(i,t,r),Object(o["a"])(i,"updatedDate",a),i)).then((function(){window.console.log("Updated item successfully"),n["a"].commit("FIRE_NOTIFICATION",{text:"Updated item successfully",type:"success"})})).catch((function(e){window.console.error("Error updating item: ".concat(e)),n["a"].commit("FIRE_NOTIFICATION",{text:e,type:"error"})}))}}},d=u,p=r("2877"),f=Object(p["a"])(d,s,l,!1,null,null,null);t["a"]=f.exports}});
//# sourceMappingURL=app.4ef5674f.js.map